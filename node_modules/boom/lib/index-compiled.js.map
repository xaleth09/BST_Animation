{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["// Load modules\n\nvar Http = require('http');\nvar Hoek = require('hoek');\n\n\n// Declare internals\n\nvar internals = {};\n\nexports.wrap = function (error, statusCode, message) {\n\n    Hoek.assert(error instanceof Error, 'Cannot wrap non-Error object');\n    return (error.isBoom ? error : internals.initialize(error, statusCode || 500, message));\n};\n\n\nexports.create = function (statusCode, message, data) {\n\n    return internals.create(statusCode, message, data, exports.create);\n};\n\ninternals.create = function (statusCode, message, data, ctor) {\n\n    var error = new Error(message ? message : undefined);       // Avoids settings null message\n    Error.captureStackTrace(error, ctor);                       // Filter the stack to our external API\n    error.data = data || null;\n    internals.initialize(error, statusCode);\n    return error;\n};\n\ninternals.initialize = function (error, statusCode, message) {\n\n    var numberCode = parseInt(statusCode, 10);\n    Hoek.assert(!isNaN(numberCode) && numberCode >= 400, 'First argument must be a number (400+):', statusCode);\n\n    error.isBoom = true;\n    error.isServer = numberCode >= 500;\n\n    if (!error.hasOwnProperty('data')) {\n        error.data = null;\n    }\n\n    error.output = {\n        statusCode: numberCode,\n        payload: {},\n        headers: {}\n    };\n\n    error.reformat = internals.reformat;\n    error.reformat();\n\n    if (!message &&\n        !error.message) {\n\n        message = error.output.payload.error;\n    }\n\n    if (message) {\n        error.message = (message + (error.message ? ': ' + error.message : ''));\n    }\n\n    return error;\n};\n\n\ninternals.reformat = function () {\n\n    this.output.payload.statusCode = this.output.statusCode;\n    this.output.payload.error = Http.STATUS_CODES[this.output.statusCode] || 'Unknown';\n\n    if (this.output.statusCode === 500) {\n        this.output.payload.message = 'An internal server error occurred';              // Hide actual error from user\n    }\n    else if (this.message) {\n        this.output.payload.message = this.message;\n    }\n};\n\n\n// 4xx Client Errors\n\nexports.badRequest = function (message, data) {\n\n    return internals.create(400, message, data, exports.badRequest);\n};\n\n\nexports.unauthorized = function (message, scheme, attributes) {          // Or function (message, wwwAuthenticate[])\n\n    var err = internals.create(401, message, undefined, exports.unauthorized);\n\n    if (!scheme) {\n        return err;\n    }\n\n    var wwwAuthenticate = '';\n    var i = 0;\n    var il = 0;\n\n    if (typeof scheme === 'string') {\n\n        // function (message, scheme, attributes)\n\n        wwwAuthenticate = scheme;\n\n        if (attributes || message) {\n            err.output.payload.attributes = {};\n        }\n\n        if (attributes) {\n            var names = Object.keys(attributes);\n            for (i = 0, il = names.length; i < il; ++i) {\n                var name = names[i];\n                if (i) {\n                    wwwAuthenticate += ',';\n                }\n\n                var value = attributes[name];\n                if (value === null ||\n                    value === undefined) {              // Value can be zero\n\n                    value = '';\n                }\n                wwwAuthenticate += ' ' + name + '=\"' + Hoek.escapeHeaderAttribute(value.toString()) + '\"';\n                err.output.payload.attributes[name] = value;\n            }\n        }\n\n        if (message) {\n            if (attributes) {\n                wwwAuthenticate += ',';\n            }\n            wwwAuthenticate += ' error=\"' + Hoek.escapeHeaderAttribute(message) + '\"';\n            err.output.payload.attributes.error = message;\n        }\n        else {\n            err.isMissing = true;\n        }\n    }\n    else {\n\n        // function (message, wwwAuthenticate[])\n\n        var wwwArray = scheme;\n        for (i = 0, il = wwwArray.length; i < il; ++i) {\n            if (i) {\n                wwwAuthenticate += ', ';\n            }\n\n            wwwAuthenticate += wwwArray[i];\n        }\n    }\n\n    err.output.headers['WWW-Authenticate'] = wwwAuthenticate;\n\n    return err;\n};\n\n\nexports.forbidden = function (message, data) {\n\n    return internals.create(403, message, data, exports.forbidden);\n};\n\n\nexports.notFound = function (message, data) {\n\n    return internals.create(404, message, data, exports.notFound);\n};\n\n\nexports.methodNotAllowed = function (message, data) {\n\n    return internals.create(405, message, data, exports.methodNotAllowed);\n};\n\n\nexports.notAcceptable = function (message, data) {\n\n    return internals.create(406, message, data, exports.notAcceptable);\n};\n\n\nexports.proxyAuthRequired = function (message, data) {\n\n    return internals.create(407, message, data, exports.proxyAuthRequired);\n};\n\n\nexports.clientTimeout = function (message, data) {\n\n    return internals.create(408, message, data, exports.clientTimeout);\n};\n\n\nexports.conflict = function (message, data) {\n\n    return internals.create(409, message, data, exports.conflict);\n};\n\n\nexports.resourceGone = function (message, data) {\n\n    return internals.create(410, message, data, exports.resourceGone);\n};\n\n\nexports.lengthRequired = function (message, data) {\n\n    return internals.create(411, message, data, exports.lengthRequired);\n};\n\n\nexports.preconditionFailed = function (message, data) {\n\n    return internals.create(412, message, data, exports.preconditionFailed);\n};\n\n\nexports.entityTooLarge = function (message, data) {\n\n    return internals.create(413, message, data, exports.entityTooLarge);\n};\n\n\nexports.uriTooLong = function (message, data) {\n\n    return internals.create(414, message, data, exports.uriTooLong);\n};\n\n\nexports.unsupportedMediaType = function (message, data) {\n\n    return internals.create(415, message, data, exports.unsupportedMediaType);\n};\n\n\nexports.rangeNotSatisfiable = function (message, data) {\n\n    return internals.create(416, message, data, exports.rangeNotSatisfiable);\n};\n\n\nexports.expectationFailed = function (message, data) {\n\n    return internals.create(417, message, data, exports.expectationFailed);\n};\n\nexports.badData = function (message, data) {\n\n    return internals.create(422, message, data, exports.badData);\n};\n\n\nexports.preconditionRequired = function (message, data) {\n\n    return internals.create(428, message, data, exports.preconditionRequired);\n};\n\n\nexports.tooManyRequests = function (message, data) {\n\n    return internals.create(429, message, data, exports.tooManyRequests);\n};\n\n\n// 5xx Server Errors\n\nexports.internal = function (message, data, statusCode) {\n\n    return internals.serverError(message, data, statusCode, exports.internal);\n};\n\ninternals.serverError = function (message, data, statusCode, ctor) {\n\n    var error;\n    if (data instanceof Error) {\n        error = exports.wrap(data, statusCode, message);\n    } else {\n        error = internals.create(statusCode || 500, message, undefined, ctor);\n        error.data = data;\n    }\n\n    return error;\n};\n\n\nexports.notImplemented = function (message, data) {\n\n    return internals.serverError(message, data, 501, exports.notImplemented);\n};\n\n\nexports.badGateway = function (message, data) {\n\n    return internals.serverError(message, data, 502, exports.badGateway);\n};\n\n\nexports.serverTimeout = function (message, data) {\n\n    return internals.serverError(message, data, 503, exports.serverTimeout);\n};\n\n\nexports.gatewayTimeout = function (message, data) {\n\n    return internals.serverError(message, data, 504, exports.gatewayTimeout);\n};\n\n\nexports.badImplementation = function (message, data) {\n\n    var err = internals.serverError(message, data, 500, exports.badImplementation);\n    err.isDeveloperError = true;\n    return err;\n};\n"]}